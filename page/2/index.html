<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="9qoov3_TfJJpNB8lTPmTyQIFty7THrrcKf5gynDis6c">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.5.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="图书馆里的扫地僧 少林寺里的清洁工">
<meta property="og:type" content="website">
<meta property="og:title" content="Yao Blog">
<meta property="og:url" content="http://www.liyaolife.com/page/2/index.html">
<meta property="og:site_name" content="Yao Blog">
<meta property="og:description" content="图书馆里的扫地僧 少林寺里的清洁工">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Yao Blog">
<meta name="twitter:description" content="图书馆里的扫地僧 少林寺里的清洁工">

<link rel="canonical" href="http://www.liyaolife.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Yao Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Yao Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">图书馆里的清洁工 少林寺里的扫地僧</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/GeneralLi95" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.liyaolife.com/mysql2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Li Yao">
      <meta itemprop="description" content="图书馆里的扫地僧 少林寺里的清洁工">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yao Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/mysql2/" class="post-title-link" itemprop="url">MySQL 基础指令</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-18 08:55:18" itemprop="dateCreated datePublished" datetime="2019-11-18T08:55:18+08:00">2019-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-11-19 16:52:42" itemprop="dateModified" datetime="2019-11-19T16:52:42+08:00">2019-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/数据库/" itemprop="url" rel="index">
                    <span itemprop="name">数据库</span>
                  </a>
                </span>
            </span>

          
            <span id="/mysql2/" class="post-meta-item leancloud_visitors" data-flag-title="MySQL 基础指令" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/mysql2/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/mysql2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>531</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="启动和关闭-MySQL-服务器"><a href="#启动和关闭-MySQL-服务器" class="headerlink" title="启动和关闭 MySQL 服务器"></a>启动和关闭 MySQL 服务器</h2><p>启动<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="selector-class">.server</span> start</span><br></pre></td></tr></table></figure></p>
<p>关闭服务器（需要输入密码）</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqladmin -u root -<span class="selector-tag">p</span> shutdown</span><br></pre></td></tr></table></figure>
<p>查看服务器是否启动</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ps</span> -ef | <span class="keyword">grep</span> mysqld</span><br></pre></td></tr></table></figure>
<h2 id="管理-MySQL-服务器"><a href="#管理-MySQL-服务器" class="headerlink" title="管理 MySQL 服务器"></a>管理 MySQL 服务器</h2><p>登录服务器（前提是已经启动）<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mysql -u root -p</span></span><br></pre></td></tr></table></figure></p>
<p>登出服务器</p>
<figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">quit</span></span><br></pre></td></tr></table></figure>
<p>设置 root 密码 ：<br>终端输入</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqladmin -u root password <span class="number">123456</span></span><br></pre></td></tr></table></figure>
<p>就已经把密码设置成123456了</p>
<h2 id="基础操作指令"><a href="#基础操作指令" class="headerlink" title="基础操作指令"></a>基础操作指令</h2><p>列出数据库列表:</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql &gt; <span class="keyword">SHOW </span>DATABASES<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>会显示当前的已有的数据库列表：</p>
<p>默认的数据库Database有<br>information_schema<br>mysql<br>performance_schema<br>sys<br>这四个<br>然后从 databese列表里面挑一个</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql &gt; <span class="keyword">use</span> <span class="title">mysql</span>;</span><br></pre></td></tr></table></figure>
<p>这时候切换到database mysql里面。然后可以用</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql &gt; <span class="keyword">SHOW </span>TABLES<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>看一下这个数据库里面有哪几个表</p>
<p>然后可以看一下一个表中有那几个列（比如从表db中查看）</p>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql &gt; SHOW <span class="built_in">COLUMNS</span> FROM <span class="built_in">db</span>;</span><br></pre></td></tr></table></figure>
<p>从这几行中我们可以搞清楚这几个概念的从属关系。 DATABASE -&gt; TABLES -&gt; COLUMNS</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.liyaolife.com/ybrj2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Li Yao">
      <meta itemprop="description" content="图书馆里的扫地僧 少林寺里的清洁工">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yao Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/ybrj2/" class="post-title-link" itemprop="url">阅兵日记（二）  阅兵训练跨春秋，驻璧山下显风流</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-15 20:00:58" itemprop="dateCreated datePublished" datetime="2019-11-15T20:00:58+08:00">2019-11-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-11-19 17:00:49" itemprop="dateModified" datetime="2019-11-19T17:00:49+08:00">2019-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/阅兵日记/" itemprop="url" rel="index">
                    <span itemprop="name">阅兵日记</span>
                  </a>
                </span>
            </span>

          
            <span id="/ybrj2/" class="post-meta-item leancloud_visitors" data-flag-title="阅兵日记（二）  阅兵训练跨春秋，驻璧山下显风流" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/ybrj2/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/ybrj2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://i.loli.net/2019/11/15/gvYIiGa4AJDdT2p.png" alt="航空博物馆"></p>
<h2 id="2019-4-7-星期天-晴"><a href="#2019-4-7-星期天-晴" class="headerlink" title="2019.4.7 星期天 晴"></a>2019.4.7 星期天 晴</h2><p>一周没有看新闻了，所以一周没写日记。总结一下过去的一周。</p>
<p>正步训练完全展开，目前一天的训练节奏变成了上午30分钟，下午20分钟军姿，剩下的时间就完全是正步训练。真的是太辛苦了。夜训时间也改成了每周一、二、四、五都训练。强度一天天加大，每天训练下来身上没有一块不疼的，好在这一周有清明假期，方队给我们放了两天假，周五、周六不用训练，周天训练。（正常我们的训练节奏是每周六天，清明放假这一周多休息一天）</p>
<p>周五方队组织集体参观了中国航空博物馆，我们先祭奠了空军英烈，然后大家自由参观。走马观花了一下，飞机很多，但是感觉保存的不太好，就直接摆放在草地上经受风吹日晒，很多飞机和其他装备都已经锈迹斑斑。</p>
<p>星期五晚上排名组织了加练。</p>
<p>今天是星期天，一周的训练又开始了。新来的52名士官学员正式加入排面，我们排面也趁此机会调整了位置，我因为动作太差从10号的位置被调整到了27号，感觉自己快回家了……平常心，平常心。</p>
<h2 id="2019-4-15-星期一-晴"><a href="#2019-4-15-星期一-晴" class="headerlink" title="2019.4.15 星期一  晴"></a>2019.4.15 星期一  晴</h2><p>训练节奏进展很快，几乎感觉不到时间的流逝，一周就已经过去了。从4.7号星期天到4.13号星期六，连续训练七天。开始练习一步两动、一步一动、快慢步，对于每步75cm的步幅也开始有要求。一个个科目快速推进，一波波疲惫感扑面而来。</p>
<p>对我而言，目前最怕的就是站台阶上练踢腿，其次就是在台阶上站军姿。只用脚尖站在台阶上，不到半分钟脚就开始酸了，小腿就开始胀痛。第三是怕原地踢腿练习，这一直是弱项。</p>
<p>好在现在踢腿练习没有刚开始那么多了，主要时间是一步一动和一步两动的练习，后天有一个高规格的考核，我也从27号重新调整回了10号，这次希望能保住这个位置，别在被调回去了。</p>
<h2 id="2019-4-16-星期二-晴"><a href="#2019-4-16-星期二-晴" class="headerlink" title="2019.4.16 星期二 晴"></a>2019.4.16 星期二 晴</h2><p>天气在一天天变热，今天上午的训练一小会儿我们每个人的衬衣都湿透了。中间休息的时候，方队给我们准备了雪梨汤，我去喝了不少，上午收操的时候一口气喝光了大半壶水，走到食堂又喝了两碗汤。实在是太渴了。</p>
<p>下午训练时，地面温度很高，皮鞋前面的脚尖感觉在被炙烤。明天徒步方指将挑四个排面进行单个军人受阅动作的考核，方队上下都非常紧张。训练和加练不断，周末好不容易缓一缓的身体这两天马上又变得非常疲惫，这个星期后面几天不知道怎么熬过去。</p>
<p>今天有个好消息，有大领导来我们方队慰问，发了很多橘子和西瓜，目前宿舍的苹果橘子，安慕希，果粒橙，非常多。</p>
<h2 id="2019-4-22-星期一-晴"><a href="#2019-4-22-星期一-晴" class="headerlink" title="2019.4.22 星期一 晴"></a>2019.4.22 星期一 晴</h2><p>上一周真是十分艰难的一周，为了迎接周三的考核，整周都在不断进行正步训练。周三考完之后全方队的成绩不理想，于是又是一波“报复”性的训练，训练强度突然被再次加强。中午午休起床时间从14：10提前到了13：40，晚上夜训的收操时间也从21；30推迟到了21：45.一向没什么伤病的我目前也是跟腱很疼，不能压脚尖，踢腿一压脚尖脚后跟上面就特别疼，然而脚尖压不平，教练班长不满意，一直批评我。</p>
<p>昨天是星期天，没有加练。我在床上躺了一天，身体有所恢复，但是今天一训练就发现，休息还是不够，身体还是很疼。</p>
<p>总教练表示目前我们迎来了第一个疲劳期，最近方队病号很多，不少发烧感冒的，一些同学得了乙流，被送去301医院隔离了，还有尿血的。好在我都没用这些症状。</p>
<p>继续加油，挺进阅兵村。</p>
<h2 id="2019-4-24-星期三-雨"><a href="#2019-4-24-星期三-雨" class="headerlink" title="2019.4.24 星期三 雨"></a>2019.4.24 星期三 雨</h2><p>第一次在训练场经历暴雨天气，上午训练到11点左右，风云突变，我以为我们方队会冒雨训练，但是可能目前感冒发烧的病号太多，方队领导协调了大巴车把我们拉了回去（训练场离宿舍3km）。</p>
<p>最近训练状况不容乐观。从上往下，头需要收下颌，挺胸不够，胳膊肘容易变形，要没力气，踢腿时身体重心在后面，右腿膝盖压不死，脚尖压不平等等问题，感觉浑身没有一处动作是对的，各种动作要领在我的脑海里像一片迷雾笼罩。整个脑子几乎已成浆糊，动作有越做越差的趋势，今天早上去找班长请教动作，说着说着就哭了一下，我太难了。</p>
<p>还是要稳住心态呐。不能慌，心态崩了就全完了。阅兵训练是一场马拉松，还有五个多月呢，坚持！</p>
<h2 id="2019-4-28-星期天-晴"><a href="#2019-4-28-星期天-晴" class="headerlink" title="2019.4.28 星期天 晴"></a>2019.4.28 星期天 晴</h2><p>老爸利用一次在北京出差的机会来北京看我。今天和老爸在圆明园地铁站见面，刚好今天是清华校庆日，老爸作为教育工作者的当然想去凑这个热闹，在晓杰的带领下，进去转了一圈，然后和表哥三个人一起吃了顿饭。</p>
<p>去年暑假在广州实习锻炼没回家，今年暑假，看来也是回不了家了。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.liyaolife.com/ybrj1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Li Yao">
      <meta itemprop="description" content="图书馆里的扫地僧 少林寺里的清洁工">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yao Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/ybrj1/" class="post-title-link" itemprop="url">阅兵日记（一） 一支穿云箭，千军万马来相见</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2019-11-15 18:57:33 / 修改时间：20:00:24" itemprop="dateCreated datePublished" datetime="2019-11-15T18:57:33+08:00">2019-11-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/阅兵日记/" itemprop="url" rel="index">
                    <span itemprop="name">阅兵日记</span>
                  </a>
                </span>
            </span>

          
            <span id="/ybrj1/" class="post-meta-item leancloud_visitors" data-flag-title="阅兵日记（一） 一支穿云箭，千军万马来相见" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/ybrj1/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/ybrj1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>阅兵归来，这几天整理了下卫生，打开自己的日记本，断断续续记了一些流水账，有个几万字吧。苦累的纪念，成长的见证。整理在此，与大家分享。争取每周能更新一篇，文中所涉及所有照片由王教练提供，未经许可请勿单独使用照片。</p>
<p><img src="https://i.loli.net/2019/11/15/Myeluj6g4QoOf2N.jpg" alt></p>
<h3 id="2019-3-17-星期天-晴"><a href="#2019-3-17-星期天-晴" class="headerlink" title="2019.3.17 星期天 晴"></a>2019.3.17 星期天 晴</h3><p>今天是进驻xxx的第三天，昨天进行了一天训练，教练们个个又高又壮，有现役的士官，多为中士，年纪应该和我差不多大，有退役的仪仗队队员，这些年纪应该会大一些，感觉我在这个地方完全就是个小矮子……</p>
<p>昨天训练了一天，主要是练军姿，就一直站着，还挺累的。今天是星期天，以休息为主，主要是整理内务，叠被子，钉床单，去超市买了一瓶洗衣液和一条毛巾拿回来当枕巾。</p>
<p>伙食真不赖，现在想起601的饭都不知道我当时是怎么吃下去。</p>
<h3 id="2019-3-18-星期天-晴"><a href="#2019-3-18-星期天-晴" class="headerlink" title="2019.3.18 星期天 晴"></a>2019.3.18 星期天 晴</h3><p>今天训练继续以军姿，转体为主。我发现这些教练班长们个个口才都还挺好的，讲道理讲得很潇洒。训练场上也很文明，跟学校的教员一样。我妈还一直担心我表现不好会不会被打……我都多大人了，也当兵6年了，算是个小老兵，怎么可能被打，也太没面子了，现在训练都讲究科学，骂人几乎都没有的。</p>
<p>今天我们方队另外两个单位的人来了，吃饭的时候大家都毫不掩饰得打量对方，颇有几分警惕和竞争的感觉，但是以后肯定都会成为很好的兄弟。</p>
<h3 id="2019-3-21-星期四-晴-大风"><a href="#2019-3-21-星期四-晴-大风" class="headerlink" title="2019.3.21 星期四 晴 大风"></a>2019.3.21 星期四 晴 大风</h3><p>前两天节奏很紧张，没有时间写日记。前天（3.19）我们排了队形，我在第十一排面十号，算是比较靠后的位置，个子就这么高，也没办法。</p>
<p>这几天就开始按照排面为单位组织训练了，军姿要求的时间越来越长，脚掌，背，胳膊都非常累。昨天我们又练了一个踏步分解动作，需要把腿抬起来定一会，我的单脚站立向来非常不稳，就一直打报告，难受。</p>
<p>写字感觉手有点抖，字写得十分潦草，很多同学开始打退堂鼓，也不知道能不能撑到最后。坚持！坚持！</p>
<p><img src="https://i.loli.net/2019/11/15/kiFct3AKdGpuf6q.png" alt></p>
<h3 id="2019-3-24-星期天-晴"><a href="#2019-3-24-星期天-晴" class="headerlink" title="2019.3.24 星期天 晴"></a>2019.3.24 星期天 晴</h3><p>周五和周六的训练都非常辛苦，站军姿的时间已经增加到了五十分钟，站的时候帽线，胸线一拉，谁好谁坏一幕了然，完全站直重心放前脚掌不能动真的是太艰难了，每次都站到膝盖都弯不了，脚掌发麻。脖子上，衬衣的领上领下已经被晒得泾渭分明了。</p>
<p>周日安排了外出。每班两人，班车把我们送到了北安河地铁站，然后坐十六号线到西苑，换乘四号线到圆明园转了一圈，乘坐游览电动车走马观花了一下。圆明园在英法联军的一场大火中，木质结构的中式建筑基本全部焚毁了，只有砖石结构的部分西洋建筑得以保存，这也成了圆明园的代表。来访圆明园的人大多神情肃穆，一片哀叹，有家长带小孩来学习历史的，很好。</p>
<p>从圆明园东门出来，骑共享单车回南门坐地铁，发现走的这条路16年冬天来北京办护照的时候似乎走过，晚上党明光，保证陪我走的。</p>
<p>继续坐四号线到终点站安和桥北。这有一个华联商场，给在营的朋友们买了水果，大宝，润唇膏（10月7号补充：从长沙到北京，大家都没想到当时北京那么干燥）等东西，给顺仔一对买了一小束花。见了顺仔，又是聊不完的话，不再细说。</p>
<p>今天基地又来了一批新人，个子都比较高，听说最终只有28个替补名额，这样一来我们这就要淘汰50多个人，大家都有了不少压力，每个人都觉得自己将会是被淘汰的那个。我也非常担心，不过心态终是趋于平稳。尽力而为，拼尽全力就好，最后什么结果都不后悔就是了。</p>
<h3 id="2019-3-25-星期一-晴"><a href="#2019-3-25-星期一-晴" class="headerlink" title="2019.3.25 星期一 晴"></a>2019.3.25 星期一 晴</h3><p>新一周的训练又开始啦，这周是三月份最后一个训练周了，下一周就进入四月份，要开始正步踢腿的练习了。对于正步，大家普遍都有一点恐惧，我参加过学校2014和2017两次年度阅兵，多少知道正步练习的艰难，能不能坚持下来，心里没一点底。</p>
<p>今天上午站了50分钟军姿，下午站了1个小时，累坏了。</p>
<p>泽君买了一把筋膜枪，一千五百多块钱。用了一下真的很好用，考虑要不要入手一个。301医院的医生来巡诊了一次。没什么不舒服的地方，就没去关注。</p>
<h2 id="2019-3-31-星期天-晴"><a href="#2019-3-31-星期天-晴" class="headerlink" title="2019.3.31 星期天 晴"></a>2019.3.31 星期天 晴</h2><p>刚刚发现日记前几天写的都是2018，2019都过了4个月了。</p>
<p>本以为下周才会开始的正步训练，在这周就已经全面开展。目前的节奏基本上就是上午下午各30分钟军姿，剩下时间就全是踢腿训练。我果然是晃得非常厉害，基本上每天都被班长批评，被批评到起飞，被批评到飞起，被批评到上天，被批评到爆炸。</p>
<p>好在心态还不算太差，上一周一直是一种担心和忧虑，这周真正经历过之后就开始逐渐淡然，前两天做了一个梦，梦到自己撂挑子不干了，回学校了，但是回去之后两三天身体的疲惫就歇好了，然后就开始后悔，后悔退出了，其实顶一顶，两三天总是能顶的吧，每次都对自己说再坚持两天，几十个两天之后，差不多就该结束了。幸亏只是一个梦，我还能继续训练。</p>
<p><img src="https://i.loli.net/2019/11/15/rhtbLQg3O2AIPsl.png" alt><br>​</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.liyaolife.com/py-sys/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Li Yao">
      <meta itemprop="description" content="图书馆里的扫地僧 少林寺里的清洁工">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yao Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/py-sys/" class="post-title-link" itemprop="url">Python 通过sys.argv控制台输入参数</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2019-11-15 16:41:44 / 修改时间：17:59:05" itemprop="dateCreated datePublished" datetime="2019-11-15T16:41:44+08:00">2019-11-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>
            </span>

          
            <span id="/py-sys/" class="post-meta-item leancloud_visitors" data-flag-title="Python 通过sys.argv控制台输入参数" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/py-sys/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/py-sys/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>716</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>通过python编写的大型代码往往需要在服务器中运行，而服务器中往往不会安装IDE，所以只能在控制台通过<code>python yourcode.py</code>使程序执行，如果程序中有参数需要调整，通过文本编辑器到程序里去调整参数十分麻烦，并且不能保证代码的一致性。</p>
<p>所以就需要利用，控制台输入参数，参考代码</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="keyword">if</span> len(sys.argv) &gt;= <span class="number">3</span>:</span><br><span class="line">        <span class="selector-tag">a</span> = sys<span class="selector-class">.argv</span>[<span class="number">1</span>]</span><br><span class="line">        <span class="selector-tag">b</span> = sys<span class="selector-class">.argv</span>[<span class="number">2</span>]</span><br><span class="line">    elif len(sys.argv) == <span class="number">2</span>:</span><br><span class="line">        <span class="selector-tag">a</span> = sys<span class="selector-class">.argv</span>[<span class="number">1</span>]</span><br><span class="line">        <span class="selector-tag">b</span> = input(<span class="string">"请输入参数b "</span>)</span><br><span class="line">    elif len(sys.argv) == <span class="number">1</span>:</span><br><span class="line">        <span class="selector-tag">a</span> = input(<span class="string">"请输入参数a "</span>)</span><br><span class="line">        <span class="selector-tag">b</span> = input(<span class="string">"请输入参数b "</span>)</span><br><span class="line"></span><br><span class="line">    print(<span class="selector-tag">a</span> + b)</span><br><span class="line">    print(sys.argv)</span><br></pre></td></tr></table></figure>
<p>我们在控制台执行这个程序</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">YaodeMacBook-<span class="symbol">Pro:</span>learnpy yaoli<span class="variable">$ </span>python3 raw_input_test.py <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line"><span class="number">23</span></span><br><span class="line">[<span class="string">'raw_input_test.py'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>]</span><br></pre></td></tr></table></figure>
<p>通过 <code>python3 raw_input_test.py 2 3</code> 命令执行了 <code>raw_input_test.py</code> 这个程序，其中2,3分别是 <code>sys.argv[1]</code> 和 <code>sys.argv[2]</code>，为什么不是 <code>sys.argv[0]</code>我们通过<code>print(sys.argv)</code> 发现其实 <code>sys.argv</code> 就是一个list，它的0号元素是这个程序的程序名。</p>
<p>通过 <code>print(a+b)</code> 得出 <code>23</code>，我们发现这些参数的输入都是作为字符串变量导入的。</p>
<p>同时以上参考代码，还具有如果输入参数不够两个，自动要求你继续输入的功能。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.liyaolife.com/py-print/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Li Yao">
      <meta itemprop="description" content="图书馆里的扫地僧 少林寺里的清洁工">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yao Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/py-print/" class="post-title-link" itemprop="url">详解 Python 3 的 print()</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-15 10:02:06" itemprop="dateCreated datePublished" datetime="2019-11-15T10:02:06+08:00">2019-11-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-11-19 17:00:18" itemprop="dateModified" datetime="2019-11-19T17:00:18+08:00">2019-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>
            </span>

          
            <span id="/py-print/" class="post-meta-item leancloud_visitors" data-flag-title="详解 Python 3 的 print()" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/py-print/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/py-print/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>719</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>从 Python2 到 Python3 一个很大的变化是 print statement 被 print() function 替代<br>—— Guido van Rossum</p>
</blockquote>
<p>PEP 3105 – Make print a function</p>
<p><code>print()</code> 函数的定义是</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print</span><span class="params">(self, *args, sep=<span class="string">' '</span>, end=<span class="string">'\n'</span>, file=None)</span>:</span> <span class="comment"># known special case of print</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    print(value, ..., sep=' ', end='\n', file=sys.stdout, flush=False)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Prints the values to a stream, or to sys.stdout by default.</span></span><br><span class="line"><span class="string">    Optional keyword arguments:</span></span><br><span class="line"><span class="string">    file:  a file-like object (stream); defaults to the current sys.stdout.</span></span><br><span class="line"><span class="string">    sep:   string inserted between values, default a space.</span></span><br><span class="line"><span class="string">    end:   string appended after the last value, default a newline.</span></span><br><span class="line"><span class="string">    flush: whether to forcibly flush the stream.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>其中</p>
<ol>
<li>sep 参数为分隔，默认是一个空格，如果输出的几个值之间取其他分隔，可以自定义 sep 为什么都没有，或者 <code>&#39;\t&#39;</code></li>
<li>end 为输出的最后一个值之后的终止，默认取  <code>&#39;\n&#39;</code>即换行，如果想让 <code>print()</code> 不换行，可以自定义这个 end.</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/11400909-b43e36b7ec1ef1e3.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="15401722413509.jpg"></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://docs.python.org/3/whatsnew/3.0.html?highlight=print" target="_blank" rel="noopener">《What’s New In Pyhton 3.0》</a></p>
<p><a href="https://www.python.org/dev/peps/pep-3105/" target="_blank" rel="noopener">《PEP 3105 – Make print a function》</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.liyaolife.com/pyqt/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Li Yao">
      <meta itemprop="description" content="图书馆里的扫地僧 少林寺里的清洁工">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yao Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/pyqt/" class="post-title-link" itemprop="url">在Python下搭建QT+SIP+PyQt5环境</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-08-13 16:04:35" itemprop="dateCreated datePublished" datetime="2018-08-13T16:04:35+08:00">2018-08-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-11-19 16:59:07" itemprop="dateModified" datetime="2019-11-19T16:59:07+08:00">2019-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>
            </span>

          
            <span id="/pyqt/" class="post-meta-item leancloud_visitors" data-flag-title="在Python下搭建QT+SIP+PyQt5环境" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/pyqt/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/pyqt/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>PyQt是Python界面开发的常用库，因为需要写一个图像标注的GUI界面，所以用到了这个库。但是在环境搭建的实际过程中，查阅了大量的资料，尝试了很多种方法，大都以失败告终。在此将最后的解决方案记录下来。</p>
<h2 id="1-安装QT"><a href="#1-安装QT" class="headerlink" title="1. 安装QT"></a>1. 安装QT</h2><p>Qt 是一个跨平台的 C++ 应用程序开发框架，是自由且开放源代码的软件</p>
<blockquote>
<p>Qt [1]  是一个1991年由Qt Company开发的跨平台C++图形用户界面应用程序开发框架。它既可以开发GUI程序，也可用于开发非GUI程序，比如控制台工具和服务器。Qt是面向对象的框架，使用特殊的代码生成扩展（称为元对象编译器(Meta Object Compiler, moc)）以及一些宏，Qt很容易扩展，并且允许真正地组件编程。2008年，Qt Company科技被诺基亚公司收购，Qt也因此成为诺基亚旗下的编程语言工具。2012年，Qt被Digia收购。2014年4月，跨平台集成开发环境Qt Creator 3.1.0正式发布，实现了对于iOS的完全支持，新增WinRT、Beautifier等插件，废弃了无Python接口的GDB调试支持，集成了基于Clang的C/C++代码模块，并对Android支持做出了调整，至此实现了全面支持iOS、Android、WP,它提供给应用程序开发者建立艺术级的图形用户界面所需的所有功能。基本上，Qt 同 X Window 上的 Motif，Openwin，GTK 等图形界 面库和 Windows 平台上的 MFC，OWL，VCL，ATL 是同类型的东西。<br>——百度百科</p>
</blockquote>
<p>安装 qt 的方式基本上分两种</p>
<h3 id="1-1-通过-brew-安装-qt"><a href="#1-1-通过-brew-安装-qt" class="headerlink" title="1.1 通过 brew 安装 qt"></a>1.1 通过 brew 安装 qt</h3><p>使用 macOS 的开发人员一定知道brew这个非常好用的包管理工具，基本上只要能在mac上安装的东西，都可以通过 homebrew 来安装和管理，并且可以及时对其进行更新和下载。</p>
<p>通过brew安装的办法：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install qt</span><br></pre></td></tr></table></figure>
<p><strong>优点：</strong> 一行代码搞定，安装包精简，同时速度快。</p>
<p><strong>缺点：</strong> brew下载下来的包大小只有100MB左右，解压后也只有300多兆。而官网的.dmg安装包有一个G，全套组件安装下来占用空间将近13G。所以在后续过程中可能还需要使用brew安装其他东西。</p>
<h3 id="1-2-通过官网安装"><a href="#1-2-通过官网安装" class="headerlink" title="1.2 通过官网安装"></a>1.2 通过官网安装</h3><p>官网的开源版本下载页面迟迟打不开，令人十分急躁，并且似乎还要注册。所以此处推荐大家使用镜像资源下载。（没有链接，自己找最新版的吧。）</p>
<p>官网安装基本上就是一路下一步即可了。</p>
<p><strong>缺点：</strong> 安装包太大，并且后续安装不能使用Homebrew了。因为通过brew安装sip或者PyQt的时候会检查系统有没有qt，而如果是通过官网安装的qt，不在brew目录下面的话，它就会重新执行<strong>brew install qt</strong>这样相当于官网安装的就没有用上。</p>
<h2 id="2-安装SIP"><a href="#2-安装SIP" class="headerlink" title="2. 安装SIP"></a>2. 安装SIP</h2><blockquote>
<p>sip: create python bindings for c and c++ libraries</p>
</blockquote>
<p>sip是RiverBank（也就是PyQt的开发商）开发的用于PyQt的Python/C++混合编程解决方案。由于Qt框架的复杂性，PyQt并没有使用Cython、SWIG的混合编程方案，而是自己单独做了一套框架。sip包括一个sip工具、SDK和Python Module。</p>
<p>与SWIG类似，使用sip也需要先编写一个「配置文件」，然后使用sip工具『编译』为C++源文件，最后，和Qt库一起编译形成适用于Python的PyQt。</p>
<p>与SWIG不同的是，sip 同时以Python Module的形式存在，也就是说，作为Python Module的PyQt，依赖于作为Python Module的sip。而对于SWIG，一旦自动生成的C++生成完毕，整个流程就不再依赖SWIG了。</p>
<p>很多教程推荐使用 brew 安装 sip， 这样省编译 blabla 因为，但实际上我们上面已经交代了， sip 同时以 Python Module 的形式存在，所以，此时可以使用 pip 工具了</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install sip</span><br></pre></td></tr></table></figure>
<p>搞定。</p>
<h2 id="3-安装PyQt5"><a href="#3-安装PyQt5" class="headerlink" title="3. 安装PyQt5"></a>3. 安装PyQt5</h2><p>PyQt是python的一个插件库,通过这个库我们可以连接qt和python.便捷的使用GUI编程.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install pyqt5</span><br></pre></td></tr></table></figure>
<p>安装好了。</p>
<h2 id="4-配置-PyCharm-开发环境"><a href="#4-配置-PyCharm-开发环境" class="headerlink" title="4. 配置 PyCharm 开发环境"></a>4. 配置 PyCharm 开发环境</h2><ol>
<li>先确认我们的 pyqt 模块是不是安装好了， 以及python版本。</li>
</ol>
<ol>
<li>配置GUI设计工具</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/11400909-a15901baa3e37bcf.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="15332767318097"></p>
<p>这里要求我们在安装qt的时候，能够知道其路径在何处。<br>Working Directory是系统自动生成的，不需要我们设置。</p>
<ol>
<li>设置 ui 文件编译工具</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/11400909-6c4d6dab2672a1b9.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="15332769446963"></p>
<p>Parameters 栏的固定代码：</p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">m PyQt5.uic.pyuic  $FileName$ -o $FileNameWithoutExtension$.py</span></span><br></pre></td></tr></table></figure>
<p>Ps: Working directory 栏也会自动生成路径，但是有时候生成的不是那个位置，而是qt文件位置或其他，我们需要把它改成我们那样，这样相当于一个定位，让编译程序在本 project 内部找编译的源文件。</p>
<ol>
<li>安装好之后的模样：</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/11400909Â-9e78d991eafc0248.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<h2 id="5-开始使用-PyQt5-编写第一个-GUI-程序"><a href="#5-开始使用-PyQt5-编写第一个-GUI-程序" class="headerlink" title="5. 开始使用 PyQt5 编写第一个 GUI 程序"></a>5. 开始使用 PyQt5 编写第一个 GUI 程序</h2><p> 这部分不再赘述，看下面的参考资料就可以啦。<br> <a href="https://juejin.im/post/5a671677518825734501ad2e" target="_blank" rel="noopener">momoxiaomming的博文：如何在Python下搭建QT+SIP+PyQt5环境</a></p>
<p> 总之基本上步骤是：</p>
<ol>
<li>使用 QT_Designer 图形化界面，拖动的方式设计。 生成.ui文件</li>
<li>使用 PyGUI 将 .ui 文件编译成 .py 文件</li>
<li>编写脚本 import 前面生成的 .py 文件，再有一通操作即可。</li>
</ol>
<hr>
<p>参考资料：<br><a href="https://juejin.im/post/5a671677518825734501ad2e" target="_blank" rel="noopener">momoxiaomming的博文：如何在Python下搭建QT+SIP+PyQt5环境</a></p>
<p><a href="http://www.cnblogs.com/goodboy-heyang/p/4793459.html" target="_blank" rel="noopener">Qt安装后配置环境变量（Mac）</a></p>
<p><a href="http://zhailiange.com/2016/06/04/Homebrew/" target="_blank" rel="noopener">善用Homebrew</a></p>
<hr>
<p>本文首发于个人网页<a href="http://liyaolife.com" target="_blank" rel="noopener">Yao Blog</a>，知乎专栏<a href="https://zhuanlan.zhihu.com/c_175317330" target="_blank" rel="noopener">谈技术 不能潦草</a>，CSDN博客：<a href="https://blog.csdn.net/GeneralLi95" target="_blank" rel="noopener">手握灵珠常奋笔</a>，简书：<a href="https://www.jianshu.com/u/2ad44a001d34" target="_blank" rel="noopener">且自小尧没谁管</a>。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.liyaolife.com/tfod2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Li Yao">
      <meta itemprop="description" content="图书馆里的扫地僧 少林寺里的清洁工">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yao Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/tfod2/" class="post-title-link" itemprop="url">物体检测TensorFlow Object Detection API （二）使用 Jupyter Notebooks 学习官方 demo</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-08-10 14:55:41" itemprop="dateCreated datePublished" datetime="2018-08-10T14:55:41+08:00">2018-08-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-11-28 10:38:09" itemprop="dateModified" datetime="2019-11-28T10:38:09+08:00">2019-11-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/机器学习/" itemprop="url" rel="index">
                    <span itemprop="name">机器学习</span>
                  </a>
                </span>
            </span>

          
            <span id="/tfod2/" class="post-meta-item leancloud_visitors" data-flag-title="物体检测TensorFlow Object Detection API （二）使用 Jupyter Notebooks 学习官方 demo" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/tfod2/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/tfod2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>811</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>jupyter notebooks 之前也被称为 iPython 笔记本，提供了在同一环境中执行数据可视化的功能，是数据科学家最常用的工具之一。</p>
<p>关于 Jupyter Notebooks 的使用可以看公众号机器之心的一篇科普文章 <a href="http://baijiahao.baidu.com/s?id=1601883438842526311&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">入门｜始于Jupyter Notebooks：一份全面的初学者实用指南</a></p>
<p>综合来看，Jupyter Notebooks 非常适合教学和演示。所以 Google 开发人员也写了一个教学的 Jupyter 脚本，来帮我们演示。</p>
<p>Jupyter Notebooks 笔记文件的后缀名都是 .ipynb</p>
<p>终端输入：</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">jupyter notebook</span></span><br></pre></td></tr></table></figure>
<p>即可启动 jupyter notebook</p>
<p><img src="http://upload-images.jianshu.io/upload_images/11400909-fc91f8731dfc6c0d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>在系统8888端口，jupyter notebooks 已经跑起来了。<br>一般来说会自动打开浏览器，如果没有，自己打开浏览器 输入 localhost: 8888 即可。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/11400909-1a56d5e5087d29b8.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>启动界面显示的是当前所在目录，找到位于  /models/research/object_detection/object_detection_tutorial.ipynb</p>
<p><img src="http://upload-images.jianshu.io/upload_images/11400909-a8f7bc4306dd5876.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"><br>点击 run all 整个代码就跑起来了。</p>
<p>如果前一篇文章最后的测试代码，能够输出 OK 的话，证明安装无误，这个文档跑起来应该是没问题的，如果有问题自行解决。</p>
<p>大概运行3-5分钟，即可看到结果了。<br>    &gt; 运行时间引人而异，在 <a href="https://zhuanlan.zhihu.com/p/35795901" target="_blank" rel="noopener">目标检测Tensorflow object detection API</a> 这篇文章中，这个同学讲他用了30-40分钟。因为中间有几行代码是下载训练好的模型，所以和网速也会有关系。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/11400909-83016f6bd318f458.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/11400909-fce85e1e326f7159.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>关于这个官方 demo，不在具体解释。如果我们把整个任务分成下面部分</p>
<ol>
<li>准备数据集</li>
<li>训练模型</li>
<li>测试模型</li>
</ol>
<p>3个大部分的话，这个 demo 应该算第三部分，用训练好的模型在其他图片是进行 object_detection.</p>
<p>在具体工作中，大部分工作量其实是集中在前两个步骤。</p>
<hr>
<p>本文首发于个人网页<a href="http://liyaolife.com" target="_blank" rel="noopener">Yao Blog</a>，知乎专栏<a href="https://zhuanlan.zhihu.com/c_175317330" target="_blank" rel="noopener">谈技术 不能潦草</a>，CSDN博客：<a href="https://blog.csdn.net/GeneralLi95" target="_blank" rel="noopener">手握灵珠常奋笔</a>，简书：<a href="https://www.jianshu.com/u/2ad44a001d34" target="_blank" rel="noopener">且自小尧没谁管</a>。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.liyaolife.com/tfod1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Li Yao">
      <meta itemprop="description" content="图书馆里的扫地僧 少林寺里的清洁工">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yao Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/tfod1/" class="post-title-link" itemprop="url">物体检测TensorFlow Object Detection API （一）安装</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-08-10 14:55:35" itemprop="dateCreated datePublished" datetime="2018-08-10T14:55:35+08:00">2018-08-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-11-19 16:58:32" itemprop="dateModified" datetime="2019-11-19T16:58:32+08:00">2019-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/机器学习/" itemprop="url" rel="index">
                    <span itemprop="name">机器学习</span>
                  </a>
                </span>
            </span>

          
            <span id="/tfod1/" class="post-meta-item leancloud_visitors" data-flag-title="物体检测TensorFlow Object Detection API （一）安装" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/tfod1/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/tfod1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在计算机视觉任务中，区分一下图像分类和物体检测，一部分任务的数据标注形式是</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">图片-标签<span class="number">1</span>，标签<span class="number">2</span>，标签<span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>这种类型的数据，我们最终的目的，也是测试的图片，打标签，姑且将其认为属于图片分类任务。</p>
<p>而另外一种数据</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">图片中的某一块-标签<span class="number">1</span></span><br><span class="line">图片中的另一块-标签<span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>这种任务，我们的目的是在某张图片中检测（查找）某物体。</p>
<p>TensorFlow Object Detection API 是 TensorFlow models 里的一个 research project 其中预设了很多网络模型可供我们直接调用和调参，也可以根据其自定义模型。大大简化了我们进行实验的流程。然而，即便如此，TensorFlow 依然不是一个新 friendly 的一个项目。在开发过程中可能遇到各种各样的问题。在此做此记录。<br>——2018.8.10</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>此处参考了 <a href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/installation.md" target="_blank" rel="noopener"> Installation</a> TensorFlow models 官方 GitHub doc.</p>
<h3 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h3><ul>
<li>Protobuf &gt;= 3.0.0</li>
<li>Python-tk</li>
<li>Pillow</li>
<li>lxml</li>
<li>tf Slim</li>
<li>Jupyter notebook</li>
<li>matplotlib</li>
<li>TensorFlow</li>
<li>Cython</li>
<li>contextlib2</li>
<li>cocoapi</li>
</ul>
<p>TensorFlow 如何安装不再说明，Protobuf 可通过 brew 安装。<br>coco api 选装<br>其余通过 pip 安装</p>
<p>其中 probuf 被用来设置模型和训练参数，在正式使用前，需要将 protobuf 库进行编译</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> From tensorflow/models/research/</span></span><br><span class="line">protoc object_detection/protos/*.proto --python_out=.</span><br></pre></td></tr></table></figure>
<p>注意看好路径。</p>
<p>jupyter notebook 是交互式的笔记本应用，可以边写代码边记笔记。非常实用的工具，使用它可以看作者预设的一个最简单的模型。</p>
<h3 id="将-slim-directories-加入-PYTHONPATH"><a href="#将-slim-directories-加入-PYTHONPATH" class="headerlink" title="将 slim directories 加入 PYTHONPATH"></a>将 slim directories 加入 PYTHONPATH</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># From tensorflow/models/research/</span></span><br><span class="line">export PYTHONPATH=<span class="variable">$PYTHONPATH</span><span class="symbol">:`pwd`</span><span class="symbol">:`pwd`/slim</span></span><br></pre></td></tr></table></figure>
<p>任何位置使用此 api 都要首先运行此命令。</p>
<p>如果没有运行此命令可能会出现</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ModuleNotFoundError: No module named 'object_detection'</span><br></pre></td></tr></table></figure>
<p>这样的错误</p>
<h3 id="测试安装效果"><a href="#测试安装效果" class="headerlink" title="测试安装效果"></a>测试安装效果</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python object_detection/builders/model_builder_test.py</span><br></pre></td></tr></table></figure>
<p>因为在本人机器上 python 命令默认调用 python2， python3 命令才会调用 python3 所以在测试命令改为：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 object_detection/builders/model_builder_test.py</span><br></pre></td></tr></table></figure>
<p>如果出现以下场景，表明运行成功。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/11400909-ef5f5ca8c03c5218.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>代表安装成功了。</p>
<blockquote>
<p>一件趣事：<br>在测试这个8月6号，7号测试时候，总是出现错误，后来发现是一处 xrange（python2）用法没有改成 range。 然后我把它改了就能运行了，发了 pull request 被 Google 的哥哥回复了，说他们正在更新一个大版本，里面已经改了这个错误，然后 8月8号就确实更新了一个新版本，改了很多地方。</p>
</blockquote>
<hr>
<p>本文首发于个人网页<a href="http://liyaolife.com" target="_blank" rel="noopener">Yao Blog</a>，知乎专栏<a href="https://zhuanlan.zhihu.com/c_175317330" target="_blank" rel="noopener">谈技术 不能潦草</a>，CSDN博客：<a href="https://blog.csdn.net/GeneralLi95" target="_blank" rel="noopener">手握灵珠常奋笔</a>，简书：<a href="https://www.jianshu.com/u/2ad44a001d34" target="_blank" rel="noopener">且自小尧没谁管</a>。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.liyaolife.com/tsfl2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Li Yao">
      <meta itemprop="description" content="图书馆里的扫地僧 少林寺里的清洁工">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yao Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/tsfl2/" class="post-title-link" itemprop="url">TensorBoard使用示例</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-07-25 11:28:01" itemprop="dateCreated datePublished" datetime="2018-07-25T11:28:01+08:00">2018-07-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-11-19 16:58:45" itemprop="dateModified" datetime="2019-11-19T16:58:45+08:00">2019-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/机器学习/" itemprop="url" rel="index">
                    <span itemprop="name">机器学习</span>
                  </a>
                </span>
            </span>

          
            <span id="/tsfl2/" class="post-meta-item leancloud_visitors" data-flag-title="TensorBoard使用示例" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/tsfl2/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/tsfl2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>为了更方便TensorFlow程序的理解、调试与优化，Google发布了一套叫做TensorBoard的可视化工具，可以用TensorBoard来展现TensorFlow的图像，绘制图像生成的定量指标图以及附加数据。</p>
<p>TensorBoard设置完成之后的样子应该如下图：<br><img src="http://wiki.jikexueyuan.com/project/tensorflow-zh/images/mnist_tensorboard.png" alt></p>
<p>其基本原理见<a href="http://wiki.jikexueyuan.com/project/tensorflow-zh/how_tos/summaries_and_tensorboard.html" target="_blank" rel="noopener">TensorBoard中文手册</a>，内有详细的介绍。</p>
<p>本文参考了<a href="https://www.cnblogs.com/fydeblog/p/7429344.html" target="_blank" rel="noopener">放羊的水瓶的博文</a>。</p>
<p>下面通过三个例程，来讲解其使用：</p>
<h2 id="例程1-矩阵相乘-tfboard1-py"><a href="#例程1-矩阵相乘-tfboard1-py" class="headerlink" title="例程1  矩阵相乘 tfboard1.py"></a>例程1  矩阵相乘 tfboard1.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'graph'</span>) <span class="keyword">as</span> scope:</span><br><span class="line">    matrix1 = tf.constant([[<span class="number">3.</span>, <span class="number">3.</span>]], name = <span class="string">'matrix'</span>)   <span class="comment"># 一行两列</span></span><br><span class="line">    matrix2 = tf.constant([[<span class="number">2.</span>], [<span class="number">2.</span>]], name = <span class="string">'matrix2'</span>) <span class="comment"># 两行一列</span></span><br><span class="line">    product = tf.matmul(matrix1, matrix2, name = <span class="string">'product'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sess = tf.Session()</span><br><span class="line"></span><br><span class="line">writer = tf.summary.FileWriter(<span class="string">"logs1/"</span>, sess.graph)</span><br><span class="line"></span><br><span class="line">init = tf.global_variables_initializer()</span><br><span class="line"></span><br><span class="line">sess.run(init)</span><br></pre></td></tr></table></figure>
<p>tf.name_scope函数是作用域名，上述代码斯即在graph作用域op下，又有三个op（分别是matrix1，matrix2，product),用tf函数内部的name参数命名，这样会在tensorboard中显示。</p>
<p>运行上述代码后，在项目所在目录会生成”logs1”目录（可以自定义名字），然后在命令行运行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tensorboard --logdir logs1</span><br></pre></td></tr></table></figure>
<p>即可在本机6006端口调用TensorBoard。可以通过浏览器打开使用。</p>
<h2 id="例程2-线性拟合（一）-tfboard2-py"><a href="#例程2-线性拟合（一）-tfboard2-py" class="headerlink" title="例程2 线性拟合（一） tfboard2.py"></a>例程2 线性拟合（一） tfboard2.py</h2><p>例程1中没有任何训练过程，比较简单，下面通过这个例子来画出它的张量流动图。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 准备原始数据</span></span><br><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'data'</span>):</span><br><span class="line">    x_data = np.random.rand(<span class="number">100</span>).astype(np.float32)</span><br><span class="line">    y_data = <span class="number">0.3</span>*x_data + <span class="number">0.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数设置</span></span><br><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'parameters'</span>):</span><br><span class="line">    weight = tf.Variable(tf.random_uniform([<span class="number">1</span>], <span class="number">-1.0</span>, <span class="number">1.0</span>))</span><br><span class="line">    bias = tf.Variable(tf.zeros([<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 得到 y_prediction</span></span><br><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'y_prediction'</span>):</span><br><span class="line">    y_prediction = weight*x_data + bias</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算损失率compute the loss</span></span><br><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'loss'</span>):</span><br><span class="line">    loss = tf.reduce_mean(tf.square(y_data - y_prediction))</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">optimizer = tf.train.GradientDescentOptimizer(<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'train'</span>):</span><br><span class="line">    train = optimizer.minimize(loss)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'init'</span>):</span><br><span class="line">    init = tf.global_variables_initializer()</span><br><span class="line"></span><br><span class="line">sess = tf.Session()</span><br><span class="line">writer = tf.summary.FileWriter(<span class="string">"logs2/"</span>,sess.graph)</span><br><span class="line">sess.run(init)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> step <span class="keyword">in</span> range(<span class="number">101</span>):</span><br><span class="line">    sess.run(train)</span><br><span class="line">    <span class="keyword">if</span> step%<span class="number">10</span> == <span class="number">0</span>:</span><br><span class="line">        print(step, <span class="string">'weight'</span>, sess.run(weight), <span class="string">'bias:'</span>, sess.run(bias))</span><br></pre></td></tr></table></figure>
<h2 id="例程3-线性拟合（二）-tfboard3-py"><a href="#例程3-线性拟合（二）-tfboard3-py" class="headerlink" title="例程3 线性拟合（二） tfboard3.py"></a>例程3 线性拟合（二） tfboard3.py</h2><p>对例程二代码进行修改，尝试tensorboard的其他功能，例如scalars,distributions,histograms,这些功能对于分析学习算法的性能有很大帮助。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'data'</span>):</span><br><span class="line">    x_data = np.random.rand(<span class="number">100</span>).astype(np.float32)</span><br><span class="line">    y_data = <span class="number">0.3</span>*x_data + <span class="number">0.1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'paremeters'</span>):</span><br><span class="line">    <span class="keyword">with</span> tf.name_scope(<span class="string">'weights'</span>):</span><br><span class="line">        weight = tf.Variable(tf.random_uniform([<span class="number">1</span>], <span class="number">-1.0</span>, <span class="number">1.0</span>))</span><br><span class="line">        tf.summary.histogram(<span class="string">'weight'</span>, weight)</span><br><span class="line">    <span class="keyword">with</span> tf.name_scope(<span class="string">'biases'</span>):</span><br><span class="line">        bias = tf.Variable(tf.zeros([<span class="number">1</span>]))</span><br><span class="line">        tf.summary.histogram(<span class="string">'bias'</span>, bias)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'y_prediction'</span>):</span><br><span class="line">    y_prediction = weight*x_data + bias</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'loss'</span>):</span><br><span class="line">    loss = tf.reduce_mean(tf.square(y_data - y_prediction))</span><br><span class="line">    tf.summary.scalar(<span class="string">'loss'</span>, loss)</span><br><span class="line"></span><br><span class="line">optimizer = tf.train.GradientDescentOptimizer(<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'train'</span>):</span><br><span class="line">    train = optimizer.minimize(loss)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'init'</span>):</span><br><span class="line">    init = tf.global_variables_initializer()</span><br><span class="line"></span><br><span class="line">sess = tf.Session()</span><br><span class="line">merged = tf.summary.merge_all()</span><br><span class="line">writer = tf.summary.FileWriter(<span class="string">"logs3/"</span>, sess.graph)</span><br><span class="line">sess.run(init)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> step <span class="keyword">in</span> range(<span class="number">101</span>):</span><br><span class="line">    sess.run(train)</span><br><span class="line">    rs = sess.run(merged)</span><br><span class="line">    writer.add_summary(rs, step)</span><br></pre></td></tr></table></figure>
<hr>
<p>本文首发于个人网页<a href="http://liyaolife.com" target="_blank" rel="noopener">Yao Blog</a>，知乎专栏<a href="https://zhuanlan.zhihu.com/c_175317330" target="_blank" rel="noopener">谈技术 不能潦草</a>，CSDN博客：<a href="https://blog.csdn.net/GeneralLi95" target="_blank" rel="noopener">手握灵珠常奋笔</a>，简书：<a href="https://www.jianshu.com/u/2ad44a001d34" target="_blank" rel="noopener">且自小尧没谁管</a>。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.liyaolife.com/leaflet1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Li Yao">
      <meta itemprop="description" content="图书馆里的扫地僧 少林寺里的清洁工">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yao Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/leaflet1/" class="post-title-link" itemprop="url">使用Leaflet-imageoverlay加载本地图片实现拖拽和缩放</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-07-17 14:55:35" itemprop="dateCreated datePublished" datetime="2018-07-17T14:55:35+08:00">2018-07-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-11-14 19:18:57" itemprop="dateModified" datetime="2019-11-14T19:18:57+08:00">2019-11-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Leaflet/" itemprop="url" rel="index">
                    <span itemprop="name">Leaflet</span>
                  </a>
                </span>
            </span>

          
            <span id="/leaflet1/" class="post-meta-item leancloud_visitors" data-flag-title="使用Leaflet-imageoverlay加载本地图片实现拖拽和缩放" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/leaflet1/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/leaflet1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>原文地址<br><a href="http://kempe.net/blog/2014/06/14/leaflet-pan-zoom-image.html" target="_blank" rel="noopener">http://kempe.net/blog/2014/06/14/leaflet-pan-zoom-image.html</a></p>
<p>使用leaflet.js去平移和缩放大尺寸图像。</p>
<p>先上代码（本文写于18年7月17日，在原文作者的源代码中更新了使用最新的leaflet包）：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-id">#image-map</span> &#123;</span></span><br><span class="line"><span class="undefined">        width: 100%;</span></span><br><span class="line"><span class="undefined">        height: 100%;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line"><span class="undefined">        margin-bottom: 10px;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"image-map"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// Using leaflet.js to pan and zoom a big image.</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// See also: http://kempe.net/blog/2014/06/14/leaflet-pan-zoom-image.html</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// create the slippy map</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> map = L.map(<span class="string">'image-map'</span>, &#123;</span></span><br><span class="line"><span class="undefined">            minZoom: 1,</span></span><br><span class="line"><span class="undefined">            maxZoom: 4,</span></span><br><span class="line"><span class="undefined">            center: [0, 0],</span></span><br><span class="line"><span class="undefined">            zoom: 1,</span></span><br><span class="line"><span class="undefined">            crs: L.CRS.Simple</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// dimensions of the image</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> w = <span class="number">4000</span>,</span></span><br><span class="line"><span class="undefined">            h = 3000,</span></span><br><span class="line"><span class="actionscript">            url = <span class="string">'images/0101_1.jpeg'</span>;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// calculate the edges of the image, in coordinate space</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> southWest = map.unproject([<span class="number">0</span>, h], map.getMaxZoom()<span class="number">-1</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> northEast = map.unproject([w, <span class="number">0</span>], map.getMaxZoom()<span class="number">-1</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> bounds = <span class="keyword">new</span> L.LatLngBounds(southWest, northEast);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// add the image overlay,</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// so that it covers the entire map</span></span></span><br><span class="line"><span class="undefined">        L.imageOverlay(url, bounds).addTo(map);</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// tell leaflet that the map is exactly as big as the image</span></span></span><br><span class="line"><span class="undefined">        map.setMaxBounds(bounds);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h2><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">minZoom:</span> <span class="number">1</span>,</span><br><span class="line"><span class="symbol">maxZoom:</span> <span class="number">4</span>,</span><br><span class="line"><span class="symbol">center:</span> [<span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line"><span class="symbol">zoom:</span> <span class="number">1</span>,</span><br></pre></td></tr></table></figure>
<p>设置能够缩放的级别，1-4级。初始级别值是1。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crs: L<span class="selector-class">.CRS</span><span class="selector-class">.Simple</span></span><br></pre></td></tr></table></figure>
<p>这表明leaflet使用1：1映射，在屏幕像素和经纬度坐标系统之间。换句话说，我们的图片是平的，不是全球的，我们在投影一张平面图片。</p>
<figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dimensions of the image</span></span><br><span class="line"><span class="keyword">var</span> w = <span class="number">2000</span>,</span><br><span class="line">    h = <span class="number">1500</span>,</span><br><span class="line">    <span class="built_in">url</span> = <span class="string">'/images/newspaper-big.jpg'</span>;</span><br></pre></td></tr></table></figure>
<p>这一段定义了图片尺寸和它的路径，路径可以引用网络链接。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// calculate the edges of the image, in coordinate space</span><br><span class="line">var southWest = map.unproject([0, h], map.getMaxZoom()-1);</span><br><span class="line">var northEast = map.unproject([w, 0], map.getMaxZoom()-1);</span><br><span class="line">var bounds = new L.LatLngBounds(southWest, northEast);</span><br></pre></td></tr></table></figure>
<p>这一段相当于告诉我们，如何把图片通过地图的方式放出来，所以需要一个像素坐标到经纬度坐标（系统）的转换。<br>把西南，东北角的像素坐标逆映射为经纬度坐标网。</p>
<p>在像素中，<strong>leaflet默认左上角的为坐标原点（0，0）</strong>。所以，左下角的点有一个h作为y坐标值和0的x坐标值，右上角的点有一个0作为y坐标值和w作为x坐标值。</p>
<p>通过这些，即可知该在地图的何处放置这张照片。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// add the image overlay,</span><br><span class="line">// so that it covers the entire map</span><br><span class="line">L.imageOverlay(url, bounds).addTo(map);</span><br><span class="line"></span><br><span class="line">// tell leaflet that the map is exactly as big as the image</span><br><span class="line">map.setMaxBounds(bounds);</span><br></pre></td></tr></table></figure>
<p>最后，我们把图像作为一个overlay覆盖，同时规定了图片的total size 只是我们限定的像素大小，所以用户不能把图片拖拽出边界。</p>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>这是一种非常强大的方式，可以在一个小页面中显示大图像，当用户需要能够获得概述并查看详细信息时。 Leaflet竭尽全力提供一个看上去很漂亮的界面（如果他们使用的是地图网站）。</p>
<hr>
<p>本文首发于个人网页<a href="http://liyaolife.com" target="_blank" rel="noopener">Yao Blog</a>，知乎专栏<a href="https://zhuanlan.zhihu.com/c_175317330" target="_blank" rel="noopener">谈技术 不能潦草</a>，CSDN博客：<a href="https://blog.csdn.net/GeneralLi95" target="_blank" rel="noopener">手握灵珠常奋笔</a>，简书：<a href="https://www.jianshu.com/u/2ad44a001d34" target="_blank" rel="noopener">且自小尧没谁管</a>。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="Li Yao"
    src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Li Yao</p>
  <div class="site-description" itemprop="description">图书馆里的扫地僧 少林寺里的清洁工</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">34</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/GeneralLi95" title="GitHub &rarr; https://github.com/GeneralLi95" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:nudtliyao@foxmail.com" title="E-Mail &rarr; mailto:nudtliyao@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/6379926438" title="Weibo &rarr; https://weibo.com/6379926438" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/xiaoyaoyao95" title="Twitter &rarr; https://twitter.com/xiaoyaoyao95" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/nudtliyao" title="Instagram &rarr; https://instagram.com/nudtliyao" rel="noopener" target="_blank"><i class="fa fa-fw fa-instagram"></i>Instagram</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/li-yao-89-61/activities" title="Zhihu &rarr; https://www.zhihu.com/people/li-yao-89-61/activities" rel="noopener" target="_blank"><i class="fa fa-fw fa-fa-zhihu"></i>Zhihu</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jianshu.com/u/2ad44a001d34" title="Jianshu &rarr; https://www.jianshu.com/u/2ad44a001d34" rel="noopener" target="_blank"><i class="fa fa-fw fa-jianshu"></i>Jianshu</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Li Yao</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">59k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">1:38</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.5.0
  </div>

        












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  
















  

  

  


<script>
NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(item => {
    return GUEST.includes(item);
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: 'UDBji4Ik1sNs3spfpNN5hLtl-gzGzoHsz',
    appKey: 'xXJt7xKWhDQTL58y0eTxw7uA',
    placeholder: "Just go go",
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: true,
    lang: '' || 'zh-cn',
    path: location.pathname,
    recordIP: false,
    serverURLs: ''
  });
}, window.Valine);
</script>

</body>
</html>
